

  <div class="max-w-5xl mx-auto px-6 py-10">
    <!-- Header -->

<div class="bg-white shadow-md rounded-lg p-8 mb-6 relative">
  <% if (admin) { %>
    <div class="absolute top-4 right-4 flex gap-2">
      <form action="/admin/quiz/<%= quiz._id %>/activation" method="POST">
    <button type="submit"
            class="bg-green-500 hover:bg-green-600 text-white px-4 py-1 rounded text-sm shadow">
       <%= quiz.isActive ? "Deactivate" : "Activate" %>
    </button>
  </form>
      <a href="/admin/quiz/<%= quiz._id %>/edit" 
         class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-1 rounded text-sm shadow">
        ‚úèÔ∏è Edit
      </a>
      <form action="/admin/quiz/<%= quiz._id %>/delete" method="POST"
            onsubmit="return confirm('Are you sure you want to delete this quiz?');">
        <button type="submit"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded text-sm shadow">
          üóëÔ∏è Delete
        </button>
      </form>
    </div>
  <% } %>

  <h1 class="text-4xl font-bold text-blue-700 mb-2"><%= quiz.title %></h1>
  <% if (quiz.description) { %>
    <p class="text-gray-700 mb-2"><%= quiz.description %></p>
  <% } %>
  <div class="flex flex-wrap gap-4 text-sm text-gray-600">
    <span><strong>Subject:</strong> <%= quiz.subject %></span>
    <span><strong>Topic:</strong> <%= quiz.topic %></span>
    <% if (admin) { %>
    <span><strong>Created:</strong> <%= new Date(quiz.createdIt).toLocaleDateString() %></span>
    <% } %>
    <% if (!quiz.isActive) { %>
      <span class="text-red-500 font-semibold">Inactive</span>
    <% } %>
  </div>
</div>

      <% if (quiz.description) { %>
        <p class="text-gray-700 mb-2"><%= quiz.description %></p>
      <% } %>
      <div class="flex flex-wrap gap-4 text-sm text-gray-600">
       
      </div>
    </div>

    <!-- Quiz Form (only for students) -->
    <% if (!admin) { %>
      
    <form action="/quiz/<%= quiz._id %>/submit" method="POST" class="space-y-8">
      <% quiz.questions.forEach((q, index) => { %>
        <div class="bg-white rounded-lg shadow p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Q<%= index + 1 %>: <%= q.questionText %></h2>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <% q.options.forEach((opt, i) => { %>
              <label class="flex items-center gap-2">
                <input type="radio" name="answers[<%= index %>]" value="<%= opt %>" required class="accent-blue-600" />
                <span><strong><%= String.fromCharCode(65 + i) %>.</strong> <%= opt %></span>
              </label>
            <% }) %>
          </div>
        </div>
       
      <% }) %>

      <div class="text-center">
        <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition">
          Submit Answers
        </button>
      </div>
    </form>
    
    <% } %>

    <!-- Admin View: Show Correct Answers -->
    <% if (admin) { %>
      <div class="space-y-8">
        <% quiz.questions.forEach((q, index) => { %>
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-2">Q<%= index + 1 %>: <%= q.questionText %></h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2">
              <% q.options.forEach((option, idx) => { %>
                <div class="border border-gray-300 rounded-md px-4 py-2 bg-gray-50">
                  <strong><%= String.fromCharCode(65 + idx) %>.</strong> <%= option %>
                </div>
              <% }); %>
            </div>

            <p class="mt-4 text-green-600 text-sm">
              ‚úÖ Correct Answer: <strong><%= q.correctAns %></strong>
            </p>
          </div>
        <% }) %>
      </div>
    <% } %>

  </div>

